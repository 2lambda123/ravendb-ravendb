<div class="indexes content-margin no-transition" data-bind="css: { 'no-transition': indexesCount() > 50 }">
    <div class="flex-vertical absolute-fill" data-bind="visible: sortedGroups().length">
        <div class="flex-grow scroll js-scroll-container">
            <div data-bind="foreach: sortedGroups">
                <h2 class="on-base-background" data-bind="text: entityName, visible: !groupHidden(), attr: { title: 'Collection: ' + entityName }"></h2>
                <div data-bind="foreach: indexes, visible: !groupHidden()">
                    <div data-bind="css: { 'sidebyside-indexes': replacement }, visible: !filteredOut()">
                        <div class="panel panel-state panel-hover index" data-bind="template: { name: 'index-template' }, css: { 'has-replacement': replacement }">
                        </div>
                        <div class="sidebyside-actions" data-bind="with: replacement, visible: replacement">
                            <div class="panel panel-state panel-warning">
                                <div class="state state-swap"> <i class="icon-swap"></i> </div>
                                <div class="padding flex-horizontal">
                                    <div class="title">Side by side</div>
                                    <div class="flex-separator"></div>
                                    <button class="btn btn-sm btn-warning" title="Click to replace the current index definition with the replacement index"
                                            data-bind="click: _.partial($root.swapSideBySide, $data.parent), css: { 'btn-spinner': _.includes($root.spinners.swapNow(), parent.name) },
                                                       disable: _.includes($root.spinners.swapNow(), parent.name)">
                                        <i class="icon-force"></i> <span>Swap now</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div data-bind="with: replacement">
                            <div class="panel panel-state panel-hover index" data-bind="template: { name: 'index-template' }">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
