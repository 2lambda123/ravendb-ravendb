<div id="storage-report">

    <div id="storage-report-container">
        <div class="tooltip" style="opacity: 0">
        </div>
        <div class="chart"></div>
    </div>
    
    <div>
        Current path:
        <span data-bind="foreach: currentPath">
            <a href="#" data-bind="click: $root.onClick.bind($root, $data)"><span data-bind="text: name"></span><br /><small data-bind="text: type"></small></a>
            <span data-bind="visible: $index() < $root.currentPath().length - 1">&raquo;</span>
        </span>
    </div>

    <table class="table table-condensed table-striped" data-bind="if: node() && node().internalChildren">
        <thead>
            <tr>
                <th>Type</th>
                <th>Name</th>
                <th>Size</th>
                <th>% Total</th>
            </tr>
        </thead>
        <tbody data-bind="foreach: node().internalChildren">
            <tr>
                <td data-bind="text: type.capitalizeFirstLetter()"></td>
                <td>
                    <a href="#" data-bind="text: name, click: $root.onClick.bind($root, $data), visible: internalChildren != null && internalChildren.length"></a>
                    <span href="#" data-bind="text: name, visible: internalChildren == null || !internalChildren.length"></span>
                </td>
                <td data-bind="text: $root.formatSize(size)"></td>
                <td data-bind="text: (size * 100 / $root.totalSize()).toFixed(2) + '%'"></td>
            </tr>
        </tbody>
    </table>
</div>